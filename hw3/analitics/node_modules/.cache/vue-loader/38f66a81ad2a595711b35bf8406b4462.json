{"remainingRequest":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/src/components/NewCost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/src/components/NewCost.vue","mtime":1626183205076},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTmV3Q29zdCIsCiAgcHJvcHM6IHsKICAgIGNhdGVnb3J5TGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm4gewoKICAgICAgdmFsdWU6IDAsCiAgICAgIGNhdGVnb3J5OiAnJywKICAgICAgZGF0ZTogJycsCiAgICAgIGlkOiAwLAogICAgICBzaG93Q2F0ZWdvcnk6IGZhbHNlLAogICAgICBwaWNrZWRDYXRlZ29yeTogJycKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEN1cnJlbnREYXRlKCkgewogICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkKICAgICAgY29uc3QgZCA9ICgiMCIgKyB0b2RheS5nZXREYXRlKCkpLnNsaWNlKC0yKQogICAgICBjb25zdCBtID0gKCcwJysodG9kYXkuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMikKICAgICAgY29uc3QgeSA9IHRvZGF5LmdldEZ1bGxZZWFyKCkKICAgICAgcmV0dXJuIGAke2R9LiR7bX0uJHt5fWAKICAgIH0sCiAgICBzYXZlQ29zdCgpIHsKICAgICAgY29uc3Qge3ZhbHVlLCBwaWNrZWRDYXRlZ29yeX0gPSB0aGlzCiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgdmFsdWUsCiAgICAgICAgY2F0ZWdvcnk6IHBpY2tlZENhdGVnb3J5LAogICAgICAgIGRhdGU6IHRoaXMuZGF0ZSB8fCB0aGlzLmdldEN1cnJlbnREYXRlKCkKICAgICAgfQogICAgICBjb25zb2xlLmxvZygnc2F2ZScsIGRhdGEpCiAgICAgIHRoaXMuJGVtaXQoJ2FkZE5ld1BheW1lbnQnLCBkYXRhKQovKiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2FkRGF0YScsIFtkYXRhXSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kZW1pdCgnZ2V0Q2F0ZWdvcnknKQogICAgLy8gICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRNYXhQYWdlcycsIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0UGF5bWVudExpc3QpCiAgICAgICAgdGhpcy4kZW1pdCgnZ2V0UGF5bWVudExpc3QnKQogICAgICB9KSovCiAgICAvLyAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRUb1BheW1lbnRMaXN0JywgW2RhdGFdKQoKICAgICAvLyB0aGlzLmNhdGVnb3J5TGlzdCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2F0ZWdvcnlMaXN0CgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZSh0bywgZnJvbSkgewogICAgICBjb25zb2xlLmxvZyh0by5wYXRoLCBmcm9tLCB0aGlzLiRyb3V0ZS5xdWVyeSApCiAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKQogICAgICBpZih0by5wYXRoID09PSBgL2FkZC9wYXltZW50LyR7dGhpcy4kcm91dGUucGFyYW1zLmNhdGVnb3J5fWApIHsKICAgICAgICB0aGlzLnNob3dJbnB1dCA9IHRydWUKICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy4kcm91dGUucXVlcnkudmFsdWUgfHwgMAogICAgICAgIHRoaXMuZGF0ZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmRhdGUgfHwgdGhpcy5nZXRDdXJyZW50RGF0ZSgpCiAgICAgICAgdGhpcy5waWNrZWRDYXRlZ29yeSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeQogICAgICB9CgogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vY29uc29sZS5sb2cobG9jYXRpb24ucGF0aG5hbWUpCiAgICBpZihsb2NhdGlvbi5wYXRobmFtZSA9PT0gYC9hZGQvcGF5bWVudC8ke3RoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeX1gKSB7CiAgICAgIHRoaXMuc2hvd0lucHV0ID0gdHJ1ZQogICAgICB0aGlzLnZhbHVlID0gdGhpcy4kcm91dGUucXVlcnkudmFsdWUKICAgICAgdGhpcy5kYXRlID0gdGhpcy4kcm91dGUucXVlcnkuZGF0ZSB8fCB0aGlzLmdldEN1cnJlbnREYXRlKCkKICAgICAgdGhpcy5waWNrZWRDYXRlZ29yeSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeQogICAgfQogIH0KfQo="},{"version":3,"sources":["NewCost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewCost.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div>\n      <input type=\"number\" placeholder=\"Payment value\" v-model.trim.number=\"value\">\n      <div style=\"display: inline-block; position: relative\">\n        <input type=\"text\" placeholder=\"Payment category\" v-model.trim=\"pickedCategory\" @click=\"showCategory = !showCategory\">\n        <div class=\"modal\" v-show=\"showCategory\">\n          <div v-for=\"(category, idx) in categoryList\" :key=\"category\">\n            <input type=\"radio\" name=\"category\" :id=\"category + idx\" v-model=\"pickedCategory\" :value=\"category\">\n            <label :for=\"category + idx\">{{ category }}</label>\n          </div>\n        </div>\n      </div>\n\n      <input type=\"text\" placeholder=\"Payment date\" v-model.trim=\"date\">\n      <button @click=\"saveCost\">Save</button>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"NewCost\",\n  props: {\n    categoryList: {\n      type: Array,\n      default: () => [],\n      required: true\n    }\n  },\n  data(){\n    return {\n\n      value: 0,\n      category: '',\n      date: '',\n      id: 0,\n      showCategory: false,\n      pickedCategory: ''\n    }\n  },\n  methods: {\n    getCurrentDate() {\n      const today = new Date()\n      const d = (\"0\" + today.getDate()).slice(-2)\n      const m = ('0'+(today.getMonth() + 1)).slice(-2)\n      const y = today.getFullYear()\n      return `${d}.${m}.${y}`\n    },\n    saveCost() {\n      const {value, pickedCategory} = this\n      const data = {\n        value,\n        category: pickedCategory,\n        date: this.date || this.getCurrentDate()\n      }\n      console.log('save', data)\n      this.$emit('addNewPayment', data)\n/*      this.$store.dispatch('loadData', [data]).then(() => {\n        this.$emit('getCategory')\n    //    this.$store.commit('setMaxPages', this.$store.getters.getPaymentList)\n        this.$emit('getPaymentList')\n      })*/\n    //  this.$store.commit('addToPaymentList', [data])\n\n     // this.categoryList = this.$store.getters.getCategoryList\n\n    }\n  },\n  watch: {\n    $route(to, from) {\n      console.log(to.path, from, this.$route.query )\n      console.log(location)\n      if(to.path === `/add/payment/${this.$route.params.category}`) {\n        this.showInput = true\n        this.value = this.$route.query.value || 0\n        this.date = this.$route.query.date || this.getCurrentDate()\n        this.pickedCategory = this.$route.params.category\n      }\n\n    }\n  },\n  created() {\n    //console.log(location.pathname)\n    if(location.pathname === `/add/payment/${this.$route.params.category}`) {\n      this.showInput = true\n      this.value = this.$route.query.value\n      this.date = this.$route.query.date || this.getCurrentDate()\n      this.pickedCategory = this.$route.params.category\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal {\n  position: absolute;\n  background-color: #fff;\n  border: 1px solid #c4c4c4;\n  padding: 8px;\n  box-shadow: 0px 6px 8px;\n}\n</style>"]}]}