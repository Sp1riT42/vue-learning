{"remainingRequest":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/src/components/NewCost.vue?vue&type=style&index=0&id=7114bde6&scoped=true&lang=css&","dependencies":[{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/src/components/NewCost.vue","mtime":1626183205076},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pohunov/Desktop/frontend learning/vue/hw3/analitics/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1vZGFsIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBib3JkZXI6IDFweCBzb2xpZCAjYzRjNGM0OwogIHBhZGRpbmc6IDhweDsKICBib3gtc2hhZG93OiAwcHggNnB4IDhweDsKfQo="},{"version":3,"sources":["NewCost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewCost.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div>\n      <input type=\"number\" placeholder=\"Payment value\" v-model.trim.number=\"value\">\n      <div style=\"display: inline-block; position: relative\">\n        <input type=\"text\" placeholder=\"Payment category\" v-model.trim=\"pickedCategory\" @click=\"showCategory = !showCategory\">\n        <div class=\"modal\" v-show=\"showCategory\">\n          <div v-for=\"(category, idx) in categoryList\" :key=\"category\">\n            <input type=\"radio\" name=\"category\" :id=\"category + idx\" v-model=\"pickedCategory\" :value=\"category\">\n            <label :for=\"category + idx\">{{ category }}</label>\n          </div>\n        </div>\n      </div>\n\n      <input type=\"text\" placeholder=\"Payment date\" v-model.trim=\"date\">\n      <button @click=\"saveCost\">Save</button>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"NewCost\",\n  props: {\n    categoryList: {\n      type: Array,\n      default: () => [],\n      required: true\n    }\n  },\n  data(){\n    return {\n\n      value: 0,\n      category: '',\n      date: '',\n      id: 0,\n      showCategory: false,\n      pickedCategory: ''\n    }\n  },\n  methods: {\n    getCurrentDate() {\n      const today = new Date()\n      const d = (\"0\" + today.getDate()).slice(-2)\n      const m = ('0'+(today.getMonth() + 1)).slice(-2)\n      const y = today.getFullYear()\n      return `${d}.${m}.${y}`\n    },\n    saveCost() {\n      const {value, pickedCategory} = this\n      const data = {\n        value,\n        category: pickedCategory,\n        date: this.date || this.getCurrentDate()\n      }\n      console.log('save', data)\n      this.$emit('addNewPayment', data)\n/*      this.$store.dispatch('loadData', [data]).then(() => {\n        this.$emit('getCategory')\n    //    this.$store.commit('setMaxPages', this.$store.getters.getPaymentList)\n        this.$emit('getPaymentList')\n      })*/\n    //  this.$store.commit('addToPaymentList', [data])\n\n     // this.categoryList = this.$store.getters.getCategoryList\n\n    }\n  },\n  watch: {\n    $route(to, from) {\n      console.log(to.path, from, this.$route.query )\n      console.log(location)\n      if(to.path === `/add/payment/${this.$route.params.category}`) {\n        this.showInput = true\n        this.value = this.$route.query.value || 0\n        this.date = this.$route.query.date || this.getCurrentDate()\n        this.pickedCategory = this.$route.params.category\n      }\n\n    }\n  },\n  created() {\n    //console.log(location.pathname)\n    if(location.pathname === `/add/payment/${this.$route.params.category}`) {\n      this.showInput = true\n      this.value = this.$route.query.value\n      this.date = this.$route.query.date || this.getCurrentDate()\n      this.pickedCategory = this.$route.params.category\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal {\n  position: absolute;\n  background-color: #fff;\n  border: 1px solid #c4c4c4;\n  padding: 8px;\n  box-shadow: 0px 6px 8px;\n}\n</style>"]}]}